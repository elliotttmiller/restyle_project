2025-08-09 20:48:47,553 INFO Test Suite Run ID: 5e960798-7578-4566-9d28-e5177d3252dd
2025-08-09 20:48:47,553 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 20:48:47,553 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 20:48:47,553 INFO Environment variables summary: {}
2025-08-09 20:48:47,553 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 20:48:47,554 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 20:48:47,600 INFO Attempting authentication for user: testuser
2025-08-09 20:48:47,604 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 20:48:47,628 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7225ca9dcaa0>
2025-08-09 20:48:47,628 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7225ca959350> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 20:48:47,637 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7225caa0ce30>
2025-08-09 20:48:47,638 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 20:48:47,638 DEBUG send_request_headers.complete
2025-08-09 20:48:47,638 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 20:48:47,638 DEBUG send_request_body.complete
2025-08-09 20:48:47,638 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 20:48:47,851 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:48:47 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'Sl_mQDLcQe6hRWZlozsQ6Q')])
2025-08-09 20:48:47,851 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 20:48:47,851 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 20:48:47,852 DEBUG receive_response_body.complete
2025-08-09 20:48:47,852 DEBUG response_closed.started
2025-08-09 20:48:47,852 DEBUG response_closed.complete
2025-08-09 20:48:47,852 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 20:48:47,852 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1ODkyNywiaWF0IjoxNzU0NzcyNTI3LCJqdGkiOiJmOWE4MDczNTZjZjI0MWQ2OTgyNmUzNTIxMjJkNTk4NyIsInVzZXJfaWQiOjE2fQ.rH58ORHU0Y1dUhGiw3RcKE3I_AtWgJDfdPBNlmjaBSY","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzcyODI3LCJpYXQiOjE3NTQ3NzI1MjcsImp0aSI6IjUxNGYwODQ3MWQ3ODQ0NWZiODAzM2EwMmExNTE4ODYxIiwidXNlcl9pZCI6MTZ9.tnxmKD2VCFAFqi1xln6Ljnd1ZpEkLvByf2-wiRaAHhw"}
2025-08-09 20:48:47,853 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 20:48:47,853 INFO 
üîç Discovering URLs from the server...
2025-08-09 20:48:47,853 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 20:48:47,854 DEBUG send_request_headers.complete
2025-08-09 20:48:47,854 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 20:48:47,854 DEBUG send_request_body.complete
2025-08-09 20:48:47,854 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 20:48:47,858 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:48:47 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'NrMtKQeNSF6QyAgRozsQ6Q')])
2025-08-09 20:48:47,859 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 20:48:47,859 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 20:48:47,859 DEBUG receive_response_body.complete
2025-08-09 20:48:47,859 DEBUG response_closed.started
2025-08-09 20:48:47,859 DEBUG response_closed.complete
2025-08-09 20:48:47,859 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzcyODI3LCJpYXQiOjE3NTQ3NzI1MjcsImp0aSI6IjUxNGYwODQ3MWQ3ODQ0NWZiODAzM2EwMmExNTE4ODYxIiwidXNlcl9pZCI6MTZ9.tnxmKD2VCFAFqi1xln6Ljnd1ZpEkLvByf2-wiRaAHhw'}
2025-08-09 20:48:47,860 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 20:48:47,860 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 20:48:47,860 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 20:48:47,860 DEBUG close.started
2025-08-09 20:48:47,860 DEBUG close.complete
2025-08-09 20:48:47,861 DEBUG Using selector: EpollSelector
2025-08-09 20:48:47,862 INFO Test Suite Run ID: f841030c-958f-48f2-af12-109df22d1305
2025-08-09 20:48:47,862 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 20:48:47,862 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 20:48:47,862 INFO Environment variables summary: {}
2025-08-09 20:48:47,862 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 20:48:47,862 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 20:48:47,863 INFO Attempting authentication for user: testuser
2025-08-09 20:48:47,863 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 20:48:47,873 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7225ca7e5490>
2025-08-09 20:48:47,873 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7225ca7cb1d0> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 20:48:47,881 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7225ca7b6b70>
2025-08-09 20:48:47,882 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 20:48:47,882 DEBUG send_request_headers.complete
2025-08-09 20:48:47,882 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 20:48:47,882 DEBUG send_request_body.complete
2025-08-09 20:48:47,883 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 20:48:48,079 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:48:48 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'NeRWvIxEQ1iu_uh8ozsQ6Q')])
2025-08-09 20:48:48,079 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 20:48:48,079 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 20:48:48,080 DEBUG receive_response_body.complete
2025-08-09 20:48:48,080 DEBUG response_closed.started
2025-08-09 20:48:48,080 DEBUG response_closed.complete
2025-08-09 20:48:48,080 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 20:48:48,080 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1ODkyOCwiaWF0IjoxNzU0NzcyNTI4LCJqdGkiOiIwZDk3ZjI4YmY0Y2M0MWFkODA4MjE2YmM1ZDU1YjkyNCIsInVzZXJfaWQiOjE2fQ.nwZ68VlQVKayX2-OcaEWgcRK3UBfjtaJToSsVdYwDN8","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzcyODI4LCJpYXQiOjE3NTQ3NzI1MjgsImp0aSI6IjQzZTg1MWI1YjY5NzQxODg4YzgyNTgzOWM1NmZjZjdmIiwidXNlcl9pZCI6MTZ9.mkl5I52cmD-AGHxIm2dCIENwSoQzY7FsFS8BQeZoozA"}
2025-08-09 20:48:48,081 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 20:48:48,081 INFO 
üîç Discovering URLs from the server...
2025-08-09 20:48:48,081 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 20:48:48,082 DEBUG send_request_headers.complete
2025-08-09 20:48:48,082 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 20:48:48,082 DEBUG send_request_body.complete
2025-08-09 20:48:48,082 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 20:48:48,086 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:48:48 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'nLIsjOG2Ra-CzEsgozsQ6Q')])
2025-08-09 20:48:48,087 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 20:48:48,087 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 20:48:48,087 DEBUG receive_response_body.complete
2025-08-09 20:48:48,088 DEBUG response_closed.started
2025-08-09 20:48:48,088 DEBUG response_closed.complete
2025-08-09 20:48:48,089 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzcyODI4LCJpYXQiOjE3NTQ3NzI1MjgsImp0aSI6IjQzZTg1MWI1YjY5NzQxODg4YzgyNTgzOWM1NmZjZjdmIiwidXNlcl9pZCI6MTZ9.mkl5I52cmD-AGHxIm2dCIENwSoQzY7FsFS8BQeZoozA'}
2025-08-09 20:48:48,089 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 20:48:48,089 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 20:48:48,090 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 20:48:48,090 DEBUG close.started
2025-08-09 20:48:48,091 DEBUG close.complete
