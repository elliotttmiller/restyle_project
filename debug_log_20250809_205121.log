2025-08-09 20:51:21,964 INFO Test Suite Run ID: a12f9419-ac20-49e1-9036-d9b5bb190963
2025-08-09 20:51:21,965 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 20:51:21,965 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 20:51:21,965 INFO Environment variables summary: {}
2025-08-09 20:51:21,965 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 20:51:21,965 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 20:51:22,008 INFO Attempting authentication for user: testuser
2025-08-09 20:51:22,012 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 20:51:22,029 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f7d932669f0>
2025-08-09 20:51:22,030 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7f7d93201350> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 20:51:22,038 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f7d944f92e0>
2025-08-09 20:51:22,039 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 20:51:22,039 DEBUG send_request_headers.complete
2025-08-09 20:51:22,039 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 20:51:22,039 DEBUG send_request_body.complete
2025-08-09 20:51:22,039 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 20:51:22,425 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:51:22 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'vLkguNo0S0mHpSMYozsQ6Q')])
2025-08-09 20:51:22,426 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 20:51:22,426 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 20:51:22,427 DEBUG receive_response_body.complete
2025-08-09 20:51:22,427 DEBUG response_closed.started
2025-08-09 20:51:22,427 DEBUG response_closed.complete
2025-08-09 20:51:22,427 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 20:51:22,428 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1OTA4MiwiaWF0IjoxNzU0NzcyNjgyLCJqdGkiOiJiNDRiZGI3YzZjYzQ0MmZjODFlODRiZTEwZjFhMWI4OSIsInVzZXJfaWQiOjE2fQ.fAP0g9IbcmiIsCRktvFEL_f9AZdBhs9UzWMzkIzdGx0","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzcyOTgyLCJpYXQiOjE3NTQ3NzI2ODIsImp0aSI6ImY5Njk1MjQzMjNlNTRhNDJiODM2Mjg3Y2Q0NGFhYWI3IiwidXNlcl9pZCI6MTZ9.EjI5wBzv-D_pa6oeViy2OCPqq73uR8ZVv4qqvcOt-9Q"}
2025-08-09 20:51:22,428 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 20:51:22,428 INFO 
üîç Discovering URLs from the server...
2025-08-09 20:51:22,428 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 20:51:22,429 DEBUG send_request_headers.complete
2025-08-09 20:51:22,429 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 20:51:22,429 DEBUG send_request_body.complete
2025-08-09 20:51:22,429 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 20:51:22,434 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:51:22 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'EcEW12bhSkCEexQaozsQ6Q')])
2025-08-09 20:51:22,434 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 20:51:22,434 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 20:51:22,434 DEBUG receive_response_body.complete
2025-08-09 20:51:22,434 DEBUG response_closed.started
2025-08-09 20:51:22,435 DEBUG response_closed.complete
2025-08-09 20:51:22,435 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzcyOTgyLCJpYXQiOjE3NTQ3NzI2ODIsImp0aSI6ImY5Njk1MjQzMjNlNTRhNDJiODM2Mjg3Y2Q0NGFhYWI3IiwidXNlcl9pZCI6MTZ9.EjI5wBzv-D_pa6oeViy2OCPqq73uR8ZVv4qqvcOt-9Q'}
2025-08-09 20:51:22,435 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 20:51:22,435 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 20:51:22,435 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 20:51:22,435 DEBUG close.started
2025-08-09 20:51:22,436 DEBUG close.complete
2025-08-09 20:51:22,436 DEBUG Using selector: EpollSelector
2025-08-09 20:51:22,437 INFO Test Suite Run ID: bcb9f787-13f6-483f-bf1d-573b248f8ea2
2025-08-09 20:51:22,437 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 20:51:22,437 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 20:51:22,438 INFO Environment variables summary: {}
2025-08-09 20:51:22,438 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 20:51:22,438 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 20:51:22,439 INFO Attempting authentication for user: testuser
2025-08-09 20:51:22,439 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 20:51:22,446 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f7d930894f0>
2025-08-09 20:51:22,447 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7f7d9306f1d0> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 20:51:22,454 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f7d9305ad50>
2025-08-09 20:51:22,454 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 20:51:22,454 DEBUG send_request_headers.complete
2025-08-09 20:51:22,455 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 20:51:22,455 DEBUG send_request_body.complete
2025-08-09 20:51:22,455 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 20:51:22,682 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:51:22 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'maP6ZTQdT4mjYUx3ozsQ6Q')])
2025-08-09 20:51:22,683 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 20:51:22,683 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 20:51:22,683 DEBUG receive_response_body.complete
2025-08-09 20:51:22,683 DEBUG response_closed.started
2025-08-09 20:51:22,684 DEBUG response_closed.complete
2025-08-09 20:51:22,684 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 20:51:22,684 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1OTA4MiwiaWF0IjoxNzU0NzcyNjgyLCJqdGkiOiJlZjgwMjZhYzllZDA0Mjc5YWQyYmUwMmRlMmVlMTBkZiIsInVzZXJfaWQiOjE2fQ.Mty4li1d76S-COXFhs8PiKGU4oTn01kThYCkb6jKXsg","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzcyOTgyLCJpYXQiOjE3NTQ3NzI2ODIsImp0aSI6ImNiZDViZjcxYWJjNjQ5Zjg4ZjNjYjA0MjliNjVhYTQzIiwidXNlcl9pZCI6MTZ9.2QRTxbNAMF7XrxNmUaNCNKJDqqRlQP5eRLJn0D4JJqo"}
2025-08-09 20:51:22,684 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 20:51:22,684 INFO 
üîç Discovering URLs from the server...
2025-08-09 20:51:22,685 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 20:51:22,685 DEBUG send_request_headers.complete
2025-08-09 20:51:22,685 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 20:51:22,685 DEBUG send_request_body.complete
2025-08-09 20:51:22,685 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 20:51:22,690 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:51:22 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'PG9zY3iOT7OT9wJZozsQ6Q')])
2025-08-09 20:51:22,690 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 20:51:22,690 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 20:51:22,690 DEBUG receive_response_body.complete
2025-08-09 20:51:22,691 DEBUG response_closed.started
2025-08-09 20:51:22,691 DEBUG response_closed.complete
2025-08-09 20:51:22,691 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzcyOTgyLCJpYXQiOjE3NTQ3NzI2ODIsImp0aSI6ImNiZDViZjcxYWJjNjQ5Zjg4ZjNjYjA0MjliNjVhYTQzIiwidXNlcl9pZCI6MTZ9.2QRTxbNAMF7XrxNmUaNCNKJDqqRlQP5eRLJn0D4JJqo'}
2025-08-09 20:51:22,691 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 20:51:22,691 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 20:51:22,691 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 20:51:22,691 DEBUG close.started
2025-08-09 20:51:22,692 DEBUG close.complete
