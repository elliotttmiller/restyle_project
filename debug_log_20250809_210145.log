2025-08-09 21:01:45,868 INFO Test Suite Run ID: e5a327bd-b521-4b11-a8b2-86b2e6626187
2025-08-09 21:01:45,868 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 21:01:45,868 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 21:01:45,868 INFO Environment variables summary: {}
2025-08-09 21:01:45,869 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 21:01:45,869 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 21:01:45,910 INFO Attempting authentication for user: testuser
2025-08-09 21:01:45,914 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 21:01:45,932 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7158e8e1c8c0>
2025-08-09 21:01:45,932 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7158e8dfd350> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 21:01:45,941 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7158e9284c20>
2025-08-09 21:01:45,941 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 21:01:45,942 DEBUG send_request_headers.complete
2025-08-09 21:01:45,942 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 21:01:45,942 DEBUG send_request_body.complete
2025-08-09 21:01:45,942 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 21:01:49,586 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 21:01:49 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'gRb3ZDvrStaTaNbTozsQ6Q')])
2025-08-09 21:01:49,587 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 21:01:49,587 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 21:01:49,587 DEBUG receive_response_body.complete
2025-08-09 21:01:49,587 DEBUG response_closed.started
2025-08-09 21:01:49,588 DEBUG response_closed.complete
2025-08-09 21:01:49,588 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 21:01:49,588 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1OTcwOSwiaWF0IjoxNzU0NzczMzA5LCJqdGkiOiJiZmQzNWMxZTU2Mjk0ODJlOTI0Yzc4YmU3MDAwMWJkZCIsInVzZXJfaWQiOjE2fQ.p9ftp6iFxn0z0f9dDFhOZMha9GS3bgs-Y2eI_Y1nEI0","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczNjA5LCJpYXQiOjE3NTQ3NzMzMDksImp0aSI6ImI1MWVkYzdlMDU1NTQ0NDJhOWE0MzllZmVjMDM5YTkyIiwidXNlcl9pZCI6MTZ9.0VV7zCm8aNlS1K8COsRewORaqJ8sGpg93ou6ZtCi3fY"}
2025-08-09 21:01:49,588 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 21:01:49,588 INFO 
üîç Discovering URLs from the server...
2025-08-09 21:01:49,589 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 21:01:49,589 DEBUG send_request_headers.complete
2025-08-09 21:01:49,589 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 21:01:49,589 DEBUG send_request_body.complete
2025-08-09 21:01:49,590 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 21:01:49,595 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 21:01:49 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'56HIxZFXSrO-uThRozsQ6Q')])
2025-08-09 21:01:49,595 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 21:01:49,595 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 21:01:49,596 DEBUG receive_response_body.complete
2025-08-09 21:01:49,596 DEBUG response_closed.started
2025-08-09 21:01:49,596 DEBUG response_closed.complete
2025-08-09 21:01:49,596 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczNjA5LCJpYXQiOjE3NTQ3NzMzMDksImp0aSI6ImI1MWVkYzdlMDU1NTQ0NDJhOWE0MzllZmVjMDM5YTkyIiwidXNlcl9pZCI6MTZ9.0VV7zCm8aNlS1K8COsRewORaqJ8sGpg93ou6ZtCi3fY'}
2025-08-09 21:01:49,596 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 21:01:49,596 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 21:01:49,597 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 21:01:49,597 DEBUG close.started
2025-08-09 21:01:49,597 DEBUG close.complete
2025-08-09 21:01:49,598 DEBUG Using selector: EpollSelector
2025-08-09 21:01:49,598 INFO Test Suite Run ID: a59f8191-4582-4201-9f77-79c6a5562140
2025-08-09 21:01:49,598 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 21:01:49,599 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 21:01:49,599 INFO Environment variables summary: {}
2025-08-09 21:01:49,599 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 21:01:49,599 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 21:01:49,600 INFO Attempting authentication for user: testuser
2025-08-09 21:01:49,600 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 21:01:49,606 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7158e8c8d310>
2025-08-09 21:01:49,607 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7158e8c6f1d0> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 21:01:49,615 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7158e913be60>
2025-08-09 21:01:49,615 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 21:01:49,615 DEBUG send_request_headers.complete
2025-08-09 21:01:49,615 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 21:01:49,615 DEBUG send_request_body.complete
2025-08-09 21:01:49,616 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 21:01:49,822 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 21:01:49 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'PV-hGbIQSeScbDizozsQ6Q')])
2025-08-09 21:01:49,823 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 21:01:49,823 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 21:01:49,823 DEBUG receive_response_body.complete
2025-08-09 21:01:49,823 DEBUG response_closed.started
2025-08-09 21:01:49,824 DEBUG response_closed.complete
2025-08-09 21:01:49,824 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 21:01:49,824 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1OTcwOSwiaWF0IjoxNzU0NzczMzA5LCJqdGkiOiJiMmU4MTgyYmRkNGQ0MGEyYmE1MGY4MTI2MDIxYjMyZSIsInVzZXJfaWQiOjE2fQ.ofn0X1kaByCCCs8iKdpx2u5XiKg6ZCRL1M7FgRrT4yg","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczNjA5LCJpYXQiOjE3NTQ3NzMzMDksImp0aSI6Ijc0ODIwNmJkYTBlMjQ4NTNhNTU3MGMxMzIxN2EzNzk1IiwidXNlcl9pZCI6MTZ9.kYNUlX_5S2KK-URyb8n_o1QBF7Mjhp39oUlbfvnOKuY"}
2025-08-09 21:01:49,825 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 21:01:49,825 INFO 
üîç Discovering URLs from the server...
2025-08-09 21:01:49,825 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 21:01:49,825 DEBUG send_request_headers.complete
2025-08-09 21:01:49,826 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 21:01:49,826 DEBUG send_request_body.complete
2025-08-09 21:01:49,826 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 21:01:49,833 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 21:01:49 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'ufSbZMOMQJudx9kNozsQ6Q')])
2025-08-09 21:01:49,833 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 21:01:49,833 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 21:01:49,833 DEBUG receive_response_body.complete
2025-08-09 21:01:49,834 DEBUG response_closed.started
2025-08-09 21:01:49,834 DEBUG response_closed.complete
2025-08-09 21:01:49,834 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczNjA5LCJpYXQiOjE3NTQ3NzMzMDksImp0aSI6Ijc0ODIwNmJkYTBlMjQ4NTNhNTU3MGMxMzIxN2EzNzk1IiwidXNlcl9pZCI6MTZ9.kYNUlX_5S2KK-URyb8n_o1QBF7Mjhp39oUlbfvnOKuY'}
2025-08-09 21:01:49,834 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 21:01:49,834 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 21:01:49,834 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 21:01:49,834 DEBUG close.started
2025-08-09 21:01:49,835 DEBUG close.complete
