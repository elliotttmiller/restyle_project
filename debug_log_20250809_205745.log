2025-08-09 20:57:45,030 INFO Test Suite Run ID: 6db6bae3-c2c6-4f75-af99-2d22460c2d1f
2025-08-09 20:57:45,031 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 20:57:45,031 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 20:57:45,031 INFO Environment variables summary: {}
2025-08-09 20:57:45,031 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 20:57:45,031 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 20:57:45,088 INFO Attempting authentication for user: testuser
2025-08-09 20:57:45,100 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 20:57:45,123 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7d363aa147d0>
2025-08-09 20:57:45,123 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7d363a9f9350> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 20:57:45,136 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7d363a98b590>
2025-08-09 20:57:45,136 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 20:57:45,136 DEBUG send_request_headers.complete
2025-08-09 20:57:45,136 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 20:57:45,137 DEBUG send_request_body.complete
2025-08-09 20:57:45,137 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 20:57:45,360 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:57:45 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'TTiSohHPSh24L6ZtozsQ6Q')])
2025-08-09 20:57:45,361 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 20:57:45,361 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 20:57:45,361 DEBUG receive_response_body.complete
2025-08-09 20:57:45,361 DEBUG response_closed.started
2025-08-09 20:57:45,362 DEBUG response_closed.complete
2025-08-09 20:57:45,362 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 20:57:45,362 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1OTQ2NSwiaWF0IjoxNzU0NzczMDY1LCJqdGkiOiIxMjc0MjA0NTgyM2I0NWQwODJjMGViNzQ1M2ZkNTgyMyIsInVzZXJfaWQiOjE2fQ.zH38NEK5Y07UFtJlgl2lOCRrg-1HmXGZj_oLX_YXbBk","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczMzY1LCJpYXQiOjE3NTQ3NzMwNjUsImp0aSI6ImRhMThlOWM0YjgxNTRhZWNiYTY4OWUxN2VkNzNhZThkIiwidXNlcl9pZCI6MTZ9.FgimbJe9T-IHMZmRER1wiSk44hq7scSmML48HmdkAvA"}
2025-08-09 20:57:45,362 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 20:57:45,362 INFO 
üîç Discovering URLs from the server...
2025-08-09 20:57:45,363 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 20:57:45,363 DEBUG send_request_headers.complete
2025-08-09 20:57:45,363 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 20:57:45,363 DEBUG send_request_body.complete
2025-08-09 20:57:45,364 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 20:57:45,367 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:57:45 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'4W5Dg6d_TQySFM-vozsQ6Q')])
2025-08-09 20:57:45,368 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 20:57:45,368 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 20:57:45,368 DEBUG receive_response_body.complete
2025-08-09 20:57:45,368 DEBUG response_closed.started
2025-08-09 20:57:45,369 DEBUG response_closed.complete
2025-08-09 20:57:45,369 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczMzY1LCJpYXQiOjE3NTQ3NzMwNjUsImp0aSI6ImRhMThlOWM0YjgxNTRhZWNiYTY4OWUxN2VkNzNhZThkIiwidXNlcl9pZCI6MTZ9.FgimbJe9T-IHMZmRER1wiSk44hq7scSmML48HmdkAvA'}
2025-08-09 20:57:45,369 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 20:57:45,369 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 20:57:45,369 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 20:57:45,369 DEBUG close.started
2025-08-09 20:57:45,369 DEBUG close.complete
2025-08-09 20:57:45,371 DEBUG Using selector: EpollSelector
2025-08-09 20:57:45,371 INFO Test Suite Run ID: 651a4747-fb55-414d-a2fd-f8bbe6a80249
2025-08-09 20:57:45,371 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 20:57:45,371 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 20:57:45,372 INFO Environment variables summary: {}
2025-08-09 20:57:45,372 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 20:57:45,372 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 20:57:45,373 INFO Attempting authentication for user: testuser
2025-08-09 20:57:45,373 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 20:57:45,386 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7d363a885670>
2025-08-09 20:57:45,386 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7d363a86b1d0> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 20:57:45,393 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7d363beedd00>
2025-08-09 20:57:45,394 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 20:57:45,394 DEBUG send_request_headers.complete
2025-08-09 20:57:45,394 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 20:57:45,394 DEBUG send_request_body.complete
2025-08-09 20:57:45,394 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 20:57:45,609 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:57:45 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'WTVliADzRe2oXtxlozsQ6Q')])
2025-08-09 20:57:45,609 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 20:57:45,609 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 20:57:45,609 DEBUG receive_response_body.complete
2025-08-09 20:57:45,610 DEBUG response_closed.started
2025-08-09 20:57:45,610 DEBUG response_closed.complete
2025-08-09 20:57:45,610 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 20:57:45,610 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1OTQ2NSwiaWF0IjoxNzU0NzczMDY1LCJqdGkiOiI5NWQ5MWViMmFlNDU0NjFlOWQ2ODAyNmZlM2E5ZTMyOSIsInVzZXJfaWQiOjE2fQ.vzoI6zTBGTdA5tlwVtEcxytKwaL55unbA4fEanOWRuU","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczMzY1LCJpYXQiOjE3NTQ3NzMwNjUsImp0aSI6Ijg0ZTc1Y2FhZWI4NTQ0NDVhZGJkMzZmNzQyNDM4NzA2IiwidXNlcl9pZCI6MTZ9.xqN7pK8oAi1R-KPsB5ye7L5WXk4e9ms5Id3sfxs-VfA"}
2025-08-09 20:57:45,610 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 20:57:45,610 INFO 
üîç Discovering URLs from the server...
2025-08-09 20:57:45,611 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 20:57:45,611 DEBUG send_request_headers.complete
2025-08-09 20:57:45,611 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 20:57:45,611 DEBUG send_request_body.complete
2025-08-09 20:57:45,612 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 20:57:45,616 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 20:57:45 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'2-3kgFkARbWSgm-lozsQ6Q')])
2025-08-09 20:57:45,616 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 20:57:45,617 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 20:57:45,617 DEBUG receive_response_body.complete
2025-08-09 20:57:45,617 DEBUG response_closed.started
2025-08-09 20:57:45,617 DEBUG response_closed.complete
2025-08-09 20:57:45,618 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczMzY1LCJpYXQiOjE3NTQ3NzMwNjUsImp0aSI6Ijg0ZTc1Y2FhZWI4NTQ0NDVhZGJkMzZmNzQyNDM4NzA2IiwidXNlcl9pZCI6MTZ9.xqN7pK8oAi1R-KPsB5ye7L5WXk4e9ms5Id3sfxs-VfA'}
2025-08-09 20:57:45,618 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 20:57:45,618 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 20:57:45,618 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 20:57:45,618 DEBUG close.started
2025-08-09 20:57:45,618 DEBUG close.complete
