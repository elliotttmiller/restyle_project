2025-08-09 21:00:06,920 INFO Test Suite Run ID: 4c4412ad-df4c-45f6-a405-a88581c04e1c
2025-08-09 21:00:06,921 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 21:00:06,921 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 21:00:06,921 INFO Environment variables summary: {}
2025-08-09 21:00:06,921 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 21:00:06,921 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 21:00:06,977 INFO Attempting authentication for user: testuser
2025-08-09 21:00:06,981 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 21:00:07,001 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7e5bae1486b0>
2025-08-09 21:00:07,001 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7e5bae12d350> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 21:00:07,010 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7e5baf1f9430>
2025-08-09 21:00:07,011 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 21:00:07,011 DEBUG send_request_headers.complete
2025-08-09 21:00:07,011 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 21:00:07,011 DEBUG send_request_body.complete
2025-08-09 21:00:07,012 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 21:00:07,255 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 21:00:07 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'Ts1ExJ1TQ82-_RjcozsQ6Q')])
2025-08-09 21:00:07,256 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 21:00:07,256 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 21:00:07,257 DEBUG receive_response_body.complete
2025-08-09 21:00:07,257 DEBUG response_closed.started
2025-08-09 21:00:07,257 DEBUG response_closed.complete
2025-08-09 21:00:07,257 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 21:00:07,257 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1OTYwNywiaWF0IjoxNzU0NzczMjA3LCJqdGkiOiI5MTE1NmRlNzE3YTY0Y2E3ODcyYTI5MGJmNDJjY2JkMSIsInVzZXJfaWQiOjE2fQ.79d8CE4ezekztXRPhr4VdZEqV2yhAE35vfHvHJHoOCk","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczNTA3LCJpYXQiOjE3NTQ3NzMyMDcsImp0aSI6ImMyNWQ0Nzg5ZGM2MzQ2YTc4NmFhOWY2MDM0ZmNhNzNlIiwidXNlcl9pZCI6MTZ9.32NkdorqjfCyBmsAvgqwEAz7KdCSZNBSKYLD_A2UGt8"}
2025-08-09 21:00:07,258 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 21:00:07,258 INFO 
üîç Discovering URLs from the server...
2025-08-09 21:00:07,258 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 21:00:07,259 DEBUG send_request_headers.complete
2025-08-09 21:00:07,259 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 21:00:07,259 DEBUG send_request_body.complete
2025-08-09 21:00:07,259 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 21:00:07,266 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 21:00:07 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'AkXSSzK3TJKNQzLUozsQ6Q')])
2025-08-09 21:00:07,267 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 21:00:07,267 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 21:00:07,267 DEBUG receive_response_body.complete
2025-08-09 21:00:07,268 DEBUG response_closed.started
2025-08-09 21:00:07,268 DEBUG response_closed.complete
2025-08-09 21:00:07,268 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczNTA3LCJpYXQiOjE3NTQ3NzMyMDcsImp0aSI6ImMyNWQ0Nzg5ZGM2MzQ2YTc4NmFhOWY2MDM0ZmNhNzNlIiwidXNlcl9pZCI6MTZ9.32NkdorqjfCyBmsAvgqwEAz7KdCSZNBSKYLD_A2UGt8'}
2025-08-09 21:00:07,268 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 21:00:07,268 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 21:00:07,269 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 21:00:07,269 DEBUG close.started
2025-08-09 21:00:07,269 DEBUG close.complete
2025-08-09 21:00:07,270 DEBUG Using selector: EpollSelector
2025-08-09 21:00:07,270 INFO Test Suite Run ID: 00a9cf6e-bfcd-4691-8f80-64269aecad62
2025-08-09 21:00:07,271 INFO Test Suite Configuration: TestConfig(base_url='https://restyleproject-production.up.railway.app', timeout=120, test_image_path='test_files/example2.jpg', verify_ssl=False, test_user='testuser', test_pass='testpass1234')
2025-08-09 21:00:07,271 INFO Python version: 3.12.1 (main, Jul 10 2025, 11:57:50) [GCC 13.3.0]
2025-08-09 21:00:07,271 INFO Environment variables summary: {}
2025-08-09 21:00:07,271 WARNING ‚ö†Ô∏è  SSL verification is disabled.
2025-08-09 21:00:07,271 INFO üöÄ Starting Optimized & Self-Adapting Test Suite
2025-08-09 21:00:07,272 INFO Attempting authentication for user: testuser
2025-08-09 21:00:07,272 DEBUG connect_tcp.started host='restyleproject-production.up.railway.app' port=443 local_address=None timeout=120 socket_options=None
2025-08-09 21:00:07,279 DEBUG connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7e5badfb9640>
2025-08-09 21:00:07,279 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x7e5badf9f1d0> server_hostname='restyleproject-production.up.railway.app' timeout=120
2025-08-09 21:00:07,289 DEBUG start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7e5bae207fb0>
2025-08-09 21:00:07,289 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-08-09 21:00:07,290 DEBUG send_request_headers.complete
2025-08-09 21:00:07,290 DEBUG send_request_body.started request=<Request [b'POST']>
2025-08-09 21:00:07,290 DEBUG send_request_body.complete
2025-08-09 21:00:07,290 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-08-09 21:00:07,588 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Allow', b'POST, OPTIONS'), (b'Content-Length', b'486'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 21:00:07 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'GnTC6I4STNeql45IozsQ6Q')])
2025-08-09 21:00:07,589 INFO HTTP Request: POST https://restyleproject-production.up.railway.app/api/token/ "HTTP/1.1 200 OK"
2025-08-09 21:00:07,589 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-08-09 21:00:07,589 DEBUG receive_response_body.complete
2025-08-09 21:00:07,589 DEBUG response_closed.started
2025-08-09 21:00:07,589 DEBUG response_closed.complete
2025-08-09 21:00:07,590 DEBUG Auth request: POST /api/token/ payload={'username': 'testuser', 'password': '***'}
2025-08-09 21:00:07,590 DEBUG Auth response: status=200, body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1NDg1OTYwNywiaWF0IjoxNzU0NzczMjA3LCJqdGkiOiJlNzg4NDRiN2RmNzM0NzY1ODBhYzJkM2U0ZDBlMGE1OCIsInVzZXJfaWQiOjE2fQ.UaOBMWQOgwuYmRwtDXDlHnS3zSqSfycPombqiGT5Obw","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczNTA3LCJpYXQiOjE3NTQ3NzMyMDcsImp0aSI6Ijk2OGFmM2ZmNWFkNzRkYWU5MDk4OTJhNTFmMDQ4YjE2IiwidXNlcl9pZCI6MTZ9._BlR2hdpjF4lDohQpzWCSl0pPWeBSJVhihGGLwVUXlU"}
2025-08-09 21:00:07,590 INFO üîë Obtained JWT token for 'testuser'
2025-08-09 21:00:07,590 INFO 
üîç Discovering URLs from the server...
2025-08-09 21:00:07,591 DEBUG send_request_headers.started request=<Request [b'GET']>
2025-08-09 21:00:07,591 DEBUG send_request_headers.complete
2025-08-09 21:00:07,591 DEBUG send_request_body.started request=<Request [b'GET']>
2025-08-09 21:00:07,591 DEBUG send_request_body.complete
2025-08-09 21:00:07,591 DEBUG receive_response_headers.started request=<Request [b'GET']>
2025-08-09 21:00:07,598 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 403, b'Forbidden', [(b'Allow', b'GET, HEAD, OPTIONS'), (b'Content-Length', b'58'), (b'Content-Type', b'application/json'), (b'Cross-Origin-Opener-Policy', b'same-origin'), (b'Date', b'Sat, 09 Aug 2025 21:00:07 GMT'), (b'Referrer-Policy', b'same-origin'), (b'Server', b'railway-edge'), (b'Vary', b'Accept, origin, Cookie'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'DENY'), (b'X-Railway-Edge', b'railway/us-east4-eqdc4a'), (b'X-Railway-Request-Id', b'C26jAbw3QLygOe4vozsQ6Q')])
2025-08-09 21:00:07,598 INFO HTTP Request: GET https://restyleproject-production.up.railway.app/api/core/internal/list-urls/ "HTTP/1.1 403 Forbidden"
2025-08-09 21:00:07,598 DEBUG receive_response_body.started request=<Request [b'GET']>
2025-08-09 21:00:07,599 DEBUG receive_response_body.complete
2025-08-09 21:00:07,599 DEBUG response_closed.started
2025-08-09 21:00:07,599 DEBUG response_closed.complete
2025-08-09 21:00:07,600 DEBUG GET /api/core/internal/list-urls/ headers={'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU0NzczNTA3LCJpYXQiOjE3NTQ3NzMyMDcsImp0aSI6Ijk2OGFmM2ZmNWFkNzRkYWU5MDk4OTJhNTFmMDQ4YjE2IiwidXNlcl9pZCI6MTZ9._BlR2hdpjF4lDohQpzWCSl0pPWeBSJVhihGGLwVUXlU'}
2025-08-09 21:00:07,600 DEBUG Response: status=403, body={"detail":"Authentication credentials were not provided."}
2025-08-09 21:00:07,601 ERROR ‚ùå URL Discovery failed with status 403 (Forbidden). User 'testuser' may lack admin privileges. Suggestion: Ensure this user is a superuser.
2025-08-09 21:00:07,601 CRITICAL ‚ùå CRITICAL: Could not discover URLs. Aborting.
2025-08-09 21:00:07,601 DEBUG close.started
2025-08-09 21:00:07,602 DEBUG close.complete
